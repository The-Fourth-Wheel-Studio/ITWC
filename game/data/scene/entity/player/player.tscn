[gd_scene load_steps=18 format=3 uid="uid://5j05ep0smgod"]

[ext_resource type="Script" path="res://game/data/script/entity/player/default/player.gd" id="1_8kmop"]
[ext_resource type="Script" path="res://game/data/script/ressources/player/playerAttribute.gd" id="2_34a5h"]
[ext_resource type="PackedScene" uid="uid://d03p635q2nmy" path="res://editor/component/velocity_component.tscn" id="3_ty0mc"]
[ext_resource type="PackedScene" uid="uid://bptq7ti2b10tu" path="res://editor/component/input_handler.tscn" id="4_gqq6r"]
[ext_resource type="PackedScene" uid="uid://3ogpjn5r5wfk" path="res://editor/component/is_on_floor_component.tscn" id="5_ds37b"]
[ext_resource type="PackedScene" uid="uid://cmvb2bhw5jycr" path="res://editor/component/repulse_handler.tscn" id="6_tik5m"]
[ext_resource type="Script" path="res://game/data/script/component/abilities.gd" id="7_4v37l"]
[ext_resource type="Script" path="res://game/data/script/entity/player/abilities/walk.gd" id="7_a822u"]
[ext_resource type="PackedScene" uid="uid://mhr0qi18vj7c" path="res://editor/component/repusle_handler_zone.tscn" id="7_usdg0"]
[ext_resource type="Script" path="res://game/data/script/entity/player/abilities/gravity.gd" id="9_0cx1k"]
[ext_resource type="Script" path="res://game/data/script/entity/player/abilities/jump.gd" id="10_4oq0h"]

[sub_resource type="Resource" id="Resource_wl6tr"]
script = ExtResource("2_34a5h")
WALK_SPEED = 5.0
SPRINT_SPEED = 7.5
CROUCH_SPEED = 2.5
SPEED_VARIATION = 0.5
JUMP_VELOCITY = 4.5
SENSITIVITY = 0.005
FOV = 75
FOV_VARIATION = 20.0
BOB_FREQUENTY = 2.0
BOB_AMPLITUDE = 0.06
GRAVITY = 9.81

[sub_resource type="CylinderShape3D" id="CylinderShape3D_iugtl"]
radius = 0.685219

[sub_resource type="BoxShape3D" id="BoxShape3D_6wdi5"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_chnfo"]
albedo_color = Color(1, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_18qmg"]
material = SubResource("StandardMaterial3D_chnfo")

[sub_resource type="SphereMesh" id="SphereMesh_0gh0r"]

[node name="CharacterBody3D" type="CharacterBody3D" node_paths=PackedStringArray("velocityHandler", "inputhandler", "isOnFloor", "repulseHandler", "abilitieManager", "model")]
collision_layer = 3
script = ExtResource("1_8kmop")
velocityHandler = NodePath("velocityComponent")
inputhandler = NodePath("inputHandeler")
isOnFloor = NodePath("isOnFloorComponent")
repulseHandler = NodePath("repulseHandler")
abilitieManager = NodePath("abilities")
model = NodePath("TEMP")
playerAttributeVar = SubResource("Resource_wl6tr")

[node name="velocityComponent" parent="." instance=ExtResource("3_ty0mc")]

[node name="inputHandeler" parent="." instance=ExtResource("4_gqq6r")]

[node name="isOnFloorComponent" parent="." node_paths=PackedStringArray("NodeToCheck") instance=ExtResource("5_ds37b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.474714, 0)
NodeToCheck = NodePath("..")
lenght = 0.1

[node name="repulseHandler" parent="." node_paths=PackedStringArray("collider") instance=ExtResource("6_tik5m")]
force = 0.6
collider = NodePath("addARepulseHandlerZone/repusleZone")

[node name="repusleZone" parent="repulseHandler/addARepulseHandlerZone" index="0" instance=ExtResource("7_usdg0")]
shape = SubResource("CylinderShape3D_iugtl")

[node name="mainCollision" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_6wdi5")

[node name="TEMP" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_18qmg")

[node name="MeshInstance3D" type="MeshInstance3D" parent="TEMP"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.495273, 0.373361, 0.049017)
mesh = SubResource("SphereMesh_0gh0r")

[node name="abilities" type="Node" parent="."]
script = ExtResource("7_4v37l")

[node name="gravity" type="Node3D" parent="abilities"]
script = ExtResource("9_0cx1k")
active = true

[node name="jump" type="Node3D" parent="abilities"]
script = ExtResource("10_4oq0h")
active = true

[node name="walk" type="Node3D" parent="abilities"]
script = ExtResource("7_a822u")
active = true

[editable path="repulseHandler"]
