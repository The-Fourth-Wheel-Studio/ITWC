[gd_scene load_steps=11 format=3 uid="uid://5j05ep0smgod"]

[ext_resource type="Script" path="res://game/data/script/entity/player/default/player.gd" id="1_8kmop"]
[ext_resource type="Script" path="res://game/data/script/ressources/player/playerAttribute.gd" id="2_34a5h"]
[ext_resource type="PackedScene" uid="uid://d03p635q2nmy" path="res://editor/component/velocity_component.tscn" id="3_ty0mc"]
[ext_resource type="PackedScene" uid="uid://bptq7ti2b10tu" path="res://editor/component/input_handler.tscn" id="4_gqq6r"]
[ext_resource type="PackedScene" uid="uid://3ogpjn5r5wfk" path="res://editor/component/is_on_floor_component.tscn" id="5_ds37b"]
[ext_resource type="PackedScene" uid="uid://cmvb2bhw5jycr" path="res://editor/component/repulse_handler.tscn" id="6_tik5m"]

[sub_resource type="Resource" id="Resource_wl6tr"]
script = ExtResource("2_34a5h")
WALK_SPEED = 5.0
SPRINT_SPEED = 7.5
CROUCH_SPEED = 2.5
SPEED_VARIATION = 0.5
JUMP_VELOCITY = 4.5
SENSITIVITY = 0.005
FOV = 75
FOV_VARIATION = 20.0
BOB_FREQUENTY = 2.0
BOB_AMPLITUDE = 0.06
GRAVITY = 9.81

[sub_resource type="BoxShape3D" id="BoxShape3D_6wdi5"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_chnfo"]
albedo_color = Color(1, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_18qmg"]
material = SubResource("StandardMaterial3D_chnfo")

[node name="CharacterBody3D" type="CharacterBody3D" node_paths=PackedStringArray("velocityHandler", "inputhandler", "isOnFloor", "repulseHandler")]
script = ExtResource("1_8kmop")
playerAttributeVar = SubResource("Resource_wl6tr")
velocityHandler = NodePath("velocityComponent")
inputhandler = NodePath("inputHandeler")
isOnFloor = NodePath("isOnFloorComponent")
repulseHandler = NodePath("repulseHandler")

[node name="velocityComponent" parent="." instance=ExtResource("3_ty0mc")]

[node name="inputHandeler" parent="." instance=ExtResource("4_gqq6r")]

[node name="isOnFloorComponent" parent="." node_paths=PackedStringArray("NodeToCheck") instance=ExtResource("5_ds37b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.474714, 0)
NodeToCheck = NodePath("..")

[node name="repulseHandler" parent="." instance=ExtResource("6_tik5m")]

[node name="mainCollision" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_6wdi5")

[node name="TEMP" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_18qmg")
